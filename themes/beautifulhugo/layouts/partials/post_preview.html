<article class="post-preview">

    {{ if .Params.image }}

    {{- if not ($.Page.Scratch.Get "figurecount") }}
    <link rel="stylesheet" href="/css/hugo-easy-gallery.css" />{{ end }}
    {{- $.Page.Scratch.Add "figurecount" 1 -}}

    <!-- use either src or link-thumb for thumbnail image -->
    <div class="box">
        <figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
            <div class="img" style="background-image: url('{{ .Params.image }}');">
                <img itemprop="thumbnail" src="{{ .Params.image }}" />
            </div>
            <a href="{{ .Params.image }}" itemprop="contentUrl"></a>
        </figure>
    </div>
    {{ end }}

    <div class="post-entry">
        {{ if .Truncated }}
        {{ .Summary }}
        <a href="{{ .Permalink }}" class="post-read-more">[{{ i18n "readMore" }}]</a>
        {{ else }}
        {{ .Content }}
        {{ end }}
    </div>

    {{ if .Params.tags }}
    <div class="blog-tags">
        {{ range .Params.tags }}
        <a href="{{ $.Site.LanguagePrefix | absURL }}/tags/{{ . | urlize }}/">{{ . }}</a>&nbsp;
        {{ end }}
    </div>
    {{ end }}

</article>